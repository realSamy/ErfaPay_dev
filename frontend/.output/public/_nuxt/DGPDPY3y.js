import{z as h,A as C,a5 as V,I as B,az as P,e as y,aA as m,_ as d,aB as K,k as v,g as A,j as n,v as r,i as p,x as a,a9 as L,h as T,G as F}from"./B9jAKPWx.js";import{_ as R}from"./OXrPZgjz.js";import{_ as E}from"./CboeWgWE.js";import{_ as N}from"./f4Ke4YGl.js";import{u as q}from"./CKpsgcD4.js";import{s as x}from"./DcDGsNhf.js";import"./BK8geQZK.js";import"./BfNhCRJB.js";import"./4JXGHORX.js";import"./B7bqkIxC.js";import"./DGQ0vsRx.js";import"./Dicm8otO.js";import"./C5Zklyxe.js";const D={class:"w-full space-y-4 pb-4"},G={class:"flex justify-between px-4 py-3.5 border-b border-accented"},M={class:"text-center py-8"},O={class:"flex justify-center border-t border-default pt-4"},H=h({__name:"agents",async setup($){let l,u;const{t:o}=C(),_=F,U=V(),w=([l,u]=B(()=>q()),l=await l,u(),l),c=P("table"),g=y({}),i=y(""),b=y({pageIndex:0,pageSize:5}),z=[{accessorKey:"id",header:x("#"),size:8},{accessorKey:"full_name",header:o("common.tables.agent_name"),cell:({row:t})=>{const e=t.original.country_code?.toLowerCase(),f=t.original.id;return m(d,{icon:e?`cif:${e}`:"material-symbols:globe",label:t.original.full_name,variant:"link",to:U({name:"admin-users-id",params:{id:f}})})},size:24},{accessorKey:"email",header:x(o("common.tables.email")),size:32},{accessorKey:"role",header:x(o("common.tables.role")),cell:({row:t})=>{const e={main_admin:{label:o("common.roles.main_admin"),class:"bg-yellow-500",ui:{base:"w-40 justify-center"}},senior_support:{label:o("common.roles.senior_support"),class:"bg-blue-700",ui:{base:"w-40 justify-center"}},simple_support:{label:o("common.roles.simple_support"),class:"bg-neutral-400",ui:{base:"w-40 justify-center"}}}[t.getValue("role")];return m(R,e)}},{id:"operations",header:o("common.tables.operations"),enableSorting:!1,size:20,cell:({row:t})=>{const e=t.original.id;return m("div",{class:"flex gap-1"},[m(d,{variant:"ghost",color:"neutral",icon:"material-symbols:edit-square-outline",onClick:()=>k(e)}),m(d,{variant:"ghost",color:"error",icon:"material-symbols:delete-outline",onClick:()=>I()})])}}],k=t=>{w.value.find(e=>e.id===t)},I=async t=>{await K("آیا مطمئن هستید؟")};return(t,e)=>{const f=L,S=E,j=N;return A(),v("div",D,[n("div",G,[r(f,{type:"search",modelValue:a(i),"onUpdate:modelValue":e[0]||(e[0]=s=>p(i)?i.value=s:null),class:"max-w-sm",icon:"material-symbols:search",placeholder:"جستجو..."},null,8,["modelValue"])]),r(S,{ref_key:"table",ref:c,"global-filter":a(i),"onUpdate:globalFilter":e[1]||(e[1]=s=>p(i)?i.value=s:null),pagination:a(b),"onUpdate:pagination":e[2]||(e[2]=s=>p(b)?b.value=s:null),"row-selection":a(g),"onUpdate:rowSelection":e[3]||(e[3]=s=>p(g)?g.value=s:null),columns:z,data:a(w),class:"w-full h-100",sticky:""},{empty:T(()=>[n("div",M,[r(a(_),{class:"mx-auto h-12 w-12 text-gray-400 mb-4",name:"i-hero-users"}),e[5]||(e[5]=n("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"هیچ پشتیبانی یافت نشد",-1)),e[6]||(e[6]=n("p",{class:"text-sm text-gray-500"},"پشتیبان ها را اضافه کنید تا اینجا نمایش داده شوند.",-1))])]),_:1},8,["global-filter","pagination","row-selection","data"]),n("div",O,[r(j,{"default-page":(a(c)?.tableApi?.getState().pagination.pageIndex||0)+1,"items-per-page":a(c)?.tableApi?.getState().pagination.pageSize,total:a(c)?.tableApi?.getFilteredRowModel().rows.length,"onUpdate:page":e[4]||(e[4]=s=>a(c)?.tableApi?.setPageIndex(s-1))},null,8,["default-page","items-per-page","total"])])])}}}),J=Object.assign(H,{__name:"TableAdminAgents"}),Q={class:"space-y-8"},W={class:"page-section"},me=h({__name:"index",setup($){return(l,u)=>{const o=d,_=J;return A(),v("div",Q,[n("section",null,[r(o,{label:"پشتیبان جدید",to:l.$localePath("admin-agents-new"),size:"lg","trailing-icon":"material-symbols:add"},null,8,["to"])]),n("section",W,[r(_)])])}}});export{me as default};
