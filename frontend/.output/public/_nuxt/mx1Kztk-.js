import{e as i,ad as u,ae as r,K as d,aM as l}from"./B9jAKPWx.js";const k=t=>r("/api/tickets/"),p=async t=>{const{data:e,...s}=await r(`/api/tickets/admin/${t}/`);return{data:e,...s}},g=()=>{const t=i(!1),e=i(null),s=i(null);return{create:async n=>{t.value=!0,e.value=null;const c=new FormData;c.append("subject",n.subject),c.append("category",String(n.category)),c.append("priority",n.priority),c.append("message",n.message),n.attachments?.forEach(a=>c.append("attachments",a));try{const a=await r("/api/tickets/",{method:"POST",body:c});if(a.data.value?.ok)return s.value=a.data.value.data,a;e.value=a.data.value?.errors}catch(a){throw e.value=a,a}finally{t.value=!1}},data:s,pending:t,error:e}},h=t=>{const e=i(!1),s=i(null);return{reply:async n=>{e.value=!0,s.value=null;const c=new FormData;c.append("message",n.message),n.attachments?.forEach(a=>c.append("attachments",a));try{return await r(`/api/tickets/${t}/reply/`,{body:c,method:"POST"})}catch(a){throw s.value=a,a}finally{e.value=!1}},pending:e,error:s}},f=t=>({close:async()=>await r(`/api/tickets/${t}/close/`,{method:"POST"})}),T=()=>r("/api/tickets/admin/"),v=p,w=t=>({update:async s=>await r(`/api/tickets/admin/${t}/update/`,{method:"PATCH",body:s})}),A=t=>{const e=i(!1);return{reply:async o=>{const n=new FormData;n.append("message",o.message),o.attachments?.forEach(a=>n.append("attachments",a)),e.value=!0;const{data:c}=await r(`/api/tickets/admin/${t}/reply/`,{method:"POST",body:n});return e.value=!1,c},isLoading:u(e)}},m=async()=>await l("/api/tickets/categories/"),C=async(t=!1)=>{const e=d("data.tickets.categories",()=>[]);if(!t&&e.value.length>0)return e;const{data:s}=await m();return s.value?.ok&&(e.value=s.value?.data),e},b=async t=>await r("/api/tickets/categories/",{method:"POST",body:t}),$=async(t,e)=>await r(`/api/tickets/categories/${t}/`,{method:"PATCH",body:e}),P=async t=>await r(`/api/tickets/categories/${t}/`,{method:"DELETE"});export{C as a,k as b,P as c,$ as d,b as e,T as f,h as g,p as h,f as i,A as j,v as k,w as l,g as u};
