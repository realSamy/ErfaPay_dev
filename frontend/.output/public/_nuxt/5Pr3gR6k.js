import{z as w,A as V,e as v,k as g,j as U,v as a,h as r,a7 as x,g as y,a8 as z,x as e,a9 as q,_ as $,B,ax as I,af as m,ay as k,a5 as A}from"./B9jAKPWx.js";import{_ as S}from"./BfIjcLtu.js";import{_ as F}from"./BrxAOUNe.js";import{u as C}from"./CKpsgcD4.js";import"./DGQ0vsRx.js";import"./jFYhBC76.js";import"./BK8geQZK.js";const L={class:"page-section"},G=w({__name:"new",setup(N){const{t:o}=V(),d=[{label:o("common.roles.main_admin"),value:"main_admin"},{label:o("common.roles.senior_support"),value:"senior_support"},{label:o("common.roles.simple_support"),value:"simple_support"}],{createSupportUser:p}=I(),l=v({first_name:"",last_name:"",email:"",username:"",password:"",confirm_password:"",role:"simple_support"}),_=async()=>{const{data:i}=await p(l.value);i.value?.ok?(m().add({title:o("pages.admin.title.agents_new"),description:o("pages.users.messages.created"),color:"success"}),await C(!0),k(A()("admin-agents"))):m().add({title:o("error.title"),description:i.value?.error||o("error.unexpected"),color:"error"})};return(i,s)=>{const u=q,n=z,f=S,c=$,b=F;return y(),g("section",L,[s[7]||(s[7]=U("h2",{class:"font-bold text-2xl"},"ایجاد پشتیبان جدید",-1)),a(b,{class:"w-full md:w-lg space-y-4",onSubmit:x(_,["prevent"])},{default:r(()=>[a(n,{label:e(o)("modals.profile_setup.label_firstname"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).first_name,"onUpdate:modelValue":s[0]||(s[0]=t=>e(l).first_name=t),class:"w-full",dir:"auto",required:"",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_lastname"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).last_name,"onUpdate:modelValue":s[1]||(s[1]=t=>e(l).last_name=t),class:"w-full",dir:"auto",required:"",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_email"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).email,"onUpdate:modelValue":s[2]||(s[2]=t=>e(l).email=t),autocomplete:"new-email",class:"w-full",dir:"auto",required:"",type:"email",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_username"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).username,"onUpdate:modelValue":s[3]||(s[3]=t=>e(l).username=t),value:e(l).username?e(l).username:e(l).email,autocomplete:"new-username",class:"w-full",dir:"auto",required:"",variant:"subtle"},null,8,["modelValue","value"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_password"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).password,"onUpdate:modelValue":s[4]||(s[4]=t=>e(l).password=t),autocomplete:"new-password",class:"w-full",dir:"auto",required:"",type:"password",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_password_retype"),size:"xl"},{default:r(()=>[a(u,{modelValue:e(l).confirm_password,"onUpdate:modelValue":s[5]||(s[5]=t=>e(l).confirm_password=t),autocomplete:"new-password",class:"w-full",dir:"auto",required:"",type:"password",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,{label:e(o)("modals.profile_setup.label_role"),size:"xl"},{default:r(()=>[a(f,{modelValue:e(l).role,"onUpdate:modelValue":s[6]||(s[6]=t=>e(l).role=t),items:d,class:"w-full",required:"",variant:"subtle"},null,8,["modelValue"])]),_:1},8,["label"]),a(n,null,{default:r(()=>[a(c,{label:e(o)("pages.admin.title.agents_new"),"trailing-icon":("directionalIcon"in i?i.directionalIcon:e(B))("mdi:chevron-left","mdi:chevron-right"),size:"lg",type:"submit"},null,8,["label","trailing-icon"])]),_:1})]),_:1})])}}});export{G as default};
