import{z as T,A as g,e as b,d,I as j,k as F,j as u,v as l,D as y,x as e,h as n,_ as L,g as D,B as k,a7 as S,a8 as A,aD as M,a9 as N,ay as E,a5 as K,af as O}from"./B9jAKPWx.js";import{_ as P}from"./bcpmAApf.js";import{_ as G}from"./PdnPEoMV.js";import{_ as H}from"./BrxAOUNe.js";import{_ as J}from"./D11N8NiO.js";import{u as Q,a as R}from"./mx1Kztk-.js";const W={class:"space-y-10"},X={class:"font-bold text-2xl"},oe=T({__name:"new",async setup(Y){let r,p;const{t:a}=g(),m=b([]),v=d(()=>[{value:"low",label:a("common.priorities.low")},{value:"medium",label:a("common.priorities.medium")},{value:"high",label:a("common.priorities.high")}]),{pending:h,create:w}=Q(),{locale:V}=g(),x=d(()=>`title_${V.value.toLowerCase()}`);m.value=([r,p]=j(()=>R()),r=await r,p(),r).value;const U=d(()=>m.value.find(o=>o.slug==="other")),t=b({subject:"",message:"",category:U.value?.id||void 0,attachments:void 0,priority:"low"}),q=async()=>{const o=await w(t.value);o?.data.value?.ok&&(E(K()("dashboard-support")),O().add({title:a("pages.tickets.titles.created"),description:a("pages.tickets.messages.created",[o.data.value.ticket_id]),color:"success"}))};return(o,s)=>{const _=L,f=M,c=A,z=N,I=P,$=G,C=H,B=J;return D(),F("div",W,[u("section",null,[u("h2",X,y(e(a)("pages.tickets.titles.new_ticket")),1),u("p",null,y(e(a)("pages.tickets.messages.notice_faq")),1),l(_,{label:e(a)("pages.tickets.labels.faq"),"trailing-icon":("directionalIcon"in o?o.directionalIcon:e(k))("mdi:chevron-left","mdi:chevron-right"),class:"mt-4",size:"xl"},null,8,["label","trailing-icon"])]),u("section",null,[l(B,null,{default:n(()=>[l(C,{class:"w-full md:w-lg space-y-4",onSubmit:S(q,["prevent"])},{default:n(()=>[l(c,{label:e(a)("pages.tickets.labels.choose_category"),required:"",size:"xl"},{default:n(()=>[l(f,{modelValue:e(t).category,"onUpdate:modelValue":s[0]||(s[0]=i=>e(t).category=i),items:e(m),"label-key":e(x),placeholder:e(a)("pages.tickets.placeholders.choose_category"),class:"w-full",required:"","value-key":"id"},null,8,["modelValue","items","label-key","placeholder"])]),_:1},8,["label"]),l(c,{label:e(a)("pages.tickets.labels.choose_priority"),required:"",size:"xl"},{default:n(()=>[l(f,{modelValue:e(t).priority,"onUpdate:modelValue":s[1]||(s[1]=i=>e(t).priority=i),items:e(v),class:"w-full","label-key":"label",required:"","value-key":"value"},null,8,["modelValue","items"])]),_:1},8,["label"]),l(c,{label:e(a)("pages.tickets.labels.new_ticket_topic"),required:"",size:"xl"},{default:n(()=>[l(z,{modelValue:e(t).subject,"onUpdate:modelValue":s[2]||(s[2]=i=>e(t).subject=i),class:"w-full",required:""},null,8,["modelValue"])]),_:1},8,["label"]),l(c,{label:e(a)("pages.tickets.labels.new_ticket_description"),required:"",size:"xl"},{default:n(()=>[l(I,{modelValue:e(t).message,"onUpdate:modelValue":s[3]||(s[3]=i=>e(t).message=i),class:"w-full",required:""},null,8,["modelValue"])]),_:1},8,["label"]),l(c,{size:"xl"},{default:n(()=>[l($,{modelValue:e(t).attachments,"onUpdate:modelValue":s[4]||(s[4]=i=>e(t).attachments=i),class:"w-full",multiple:""},null,8,["modelValue"])]),_:1}),l(c,{size:"xl"},{default:n(()=>[l(_,{label:e(a)("common.labels.send"),"trailing-icon":("directionalIcon"in o?o.directionalIcon:e(k))("mdi:chevron-left","mdi:chevron-right"),size:"xl",loading:e(h),type:"submit"},null,8,["label","trailing-icon","loading"])]),_:1})]),_:1})]),_:1})])])}}});export{oe as default};
