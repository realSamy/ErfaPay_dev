import{_ as v}from"./1-LlT0MM.js";import{z as f,aC as x,e as r,I as b,f as y,l as g,x as t,g as N,af as d,ay as k,a5 as w}from"./B9jAKPWx.js";import{a as A,b as C}from"./CDIhxVfm.js";import"./bcpmAApf.js";import"./BfIjcLtu.js";import"./DGQ0vsRx.js";import"./jFYhBC76.js";import"./BRoQb4x9.js";import"./B7bqkIxC.js";import"./DqHZlzeT.js";import"./PdnPEoMV.js";import"./BrxAOUNe.js";const j=f({__name:"[id]",async setup(S){let a,i;const n=x().params.id,o=r(!1),{data:m}=([a,i]=b(()=>A(n)),a=await a,i(),a),e=r(null),u=r({});m.value?.ok&&(e.value=m.value.data,u.value={...e.value,commission_fixed:Number(e.value.commission_fixed),commission_percent:Number(e.value.commission_percent),min_amount:Number(e.value.min_amount),max_amount:Number(e.value.max_amount),tax_rate:Number(e.value.tax_rate),banner:void 0,required_fields:e.value.required_fields||[]});const{update:p}=C(n),_=async c=>{o.value=!0;const{data:l,error:s}=await p(c);l.value?(d().add({title:"تغییرات سرویس با موفقیت ثبت شد",color:"success"}),await k(w()("admin-services"))):d().add({title:"خطا در ثبت تغییرات سرویس",description:s.value?.data?.errors?.[0]||"خطای ناشناخته",color:"error"}),o.value=!1};return(c,l)=>{const s=v;return t(e)?(N(),y(s,{key:0,payload:t(u),"existing-service":t(e),pending:t(o),"is-edit":!0,onSubmit:_},null,8,["payload","existing-service","pending"])):g("",!0)}}});export{j as default};
