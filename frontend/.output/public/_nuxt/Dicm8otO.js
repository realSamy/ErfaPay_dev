import{bO as b,e as g,aH as v,cp as w}from"./B9jAKPWx.js";function G(t,r){const e=b(!1,300),n=g(null),s=w();function o(){n.value=null,e.value=!1}function c(h,l){const u=h.currentTarget,a={x:h.clientX,y:h.clientY},i=m(a,u.getBoundingClientRect()),f=p(a,i),y=A(l.getBoundingClientRect()),x=L([...f,...y]);n.value=x,e.value=!0}return v(h=>{if(t.value&&r.value){const l=a=>c(a,r.value),u=a=>c(a,t.value);t.value.addEventListener("pointerleave",l),r.value.addEventListener("pointerleave",u),h(()=>{t.value?.removeEventListener("pointerleave",l),r.value?.removeEventListener("pointerleave",u)})}}),v(h=>{if(n.value){const l=u=>{if(!n.value||!(u.target instanceof Element))return;const a=u.target,i={x:u.clientX,y:u.clientY},f=t.value?.contains(a)||r.value?.contains(a),y=!k(i,n.value),x=!!a.closest("[data-grace-area-trigger]");f?o():(y||x)&&(o(),s.trigger())};t.value?.ownerDocument.addEventListener("pointermove",l),h(()=>t.value?.ownerDocument.removeEventListener("pointermove",l))}}),{isPointerInTransit:e,onPointerExit:s.on}}function m(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),s=Math.abs(r.right-t.x),o=Math.abs(r.left-t.x);switch(Math.min(e,n,s,o)){case o:return"left";case s:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function p(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function A(t){const{top:r,right:e,bottom:n,left:s}=t;return[{x:s,y:r},{x:e,y:r},{x:e,y:n},{x:s,y:n}]}function k(t,r){const{x:e,y:n}=t;let s=!1;for(let o=0,c=r.length-1;o<r.length;c=o++){const h=r[o].x,l=r[o].y,u=r[c].x,a=r[c].y;l>n!=a>n&&e<(u-h)*(n-l)/(a-l)+h&&(s=!s)}return s}function L(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),T(r)}function T(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))e.pop();else break}e.push(s)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}export{G as u};
